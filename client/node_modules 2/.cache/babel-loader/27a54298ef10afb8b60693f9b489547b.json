{"ast":null,"code":"import _objectSpread from\"/Users/hugokinahan/Documents/La Cruche/la-cruche-web-build/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/Users/hugokinahan/Documents/La Cruche/la-cruche-web-build/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/hugokinahan/Documents/La Cruche/la-cruche-web-build/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/hugokinahan/Documents/La Cruche/la-cruche-web-build/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React from'react';import{getAllCourses}from'../../lib/api';import Nav from'./Nav';import Footer from'./Footer';import ReactMapGL,{Marker,Popup}from'react-map-gl';function Courses(){var _React$useState=React.useState(null),_React$useState2=_slicedToArray(_React$useState,2),courses=_React$useState2[0],setCourses=_React$useState2[1];var _React$useState3=React.useState(null),_React$useState4=_slicedToArray(_React$useState3,2),popup=_React$useState4[0],setPopup=_React$useState4[1];var _React$useState5=React.useState({latitude:52.4816546,longitude:-3.1791934,zoom:5.3}),_React$useState6=_slicedToArray(_React$useState5,2),viewport=_React$useState6[0],setViewport=_React$useState6[1];React.useEffect(function(){var getData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$getAllCourses,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return getAllCourses();case 3:_yield$getAllCourses=_context.sent;data=_yield$getAllCourses.data;console.log(data);setCourses(data);_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 12:case\"end\":return _context.stop();}}},_callee,null,[[0,9]]);}));return function getData(){return _ref.apply(this,arguments);};}();getData();},[]);console.log(courses);return/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(Nav,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"map-content\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"courses-header\",children:\"Courses\"}),/*#__PURE__*/_jsx(\"div\",{className:\"map-container\",children:/*#__PURE__*/_jsxs(ReactMapGL,_objectSpread(_objectSpread({mapboxApiAccessToken:process.env.REACT_APP_MAPBOX_ACCESS_TOKEN,height:\"100%\",width:\"100%\",mapStyle:\"mapbox://styles/mapbox/satellite-v9\"},viewport),{},{onClick:function onClick(){return setPopup(null);},onViewportChange:function onViewportChange(viewport){return setViewport(viewport);},children:[courses?courses.map(function(course){return/*#__PURE__*/_jsx(Marker,{className:\"map-markers\",latitude:course.latitude,longitude:course.longitude,children:/*#__PURE__*/_jsx(\"span\",{role:\"img\",\"aria-label\":\"map-marker\",onClick:function onClick(){return setPopup(course);},children:\"\\u26F3\\uFE0F\"})},course._id);}):/*#__PURE__*/_jsx(\"div\",{className:\"ring-loader\"}),popup&&/*#__PURE__*/_jsxs(Popup,{closeOnClick:true,latitude:popup.latitude,longitude:popup.longitude,closeButton:false,children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"popup-info\",children:[popup.name,\", \",popup.city]}),/*#__PURE__*/_jsx(\"img\",{className:\"popup-image\",alt:\"golf-course\",src:popup.image})]})]}))})]}),/*#__PURE__*/_jsx(Footer,{})]});}export default Courses;","map":{"version":3,"sources":["/Users/hugokinahan/Documents/La Cruche/la-cruche-web-build/client/src/components/common/Courses.js"],"names":["React","getAllCourses","Nav","Footer","ReactMapGL","Marker","Popup","Courses","useState","courses","setCourses","popup","setPopup","latitude","longitude","zoom","viewport","setViewport","useEffect","getData","data","console","log","process","env","REACT_APP_MAPBOX_ACCESS_TOKEN","map","course","_id","name","city","image"],"mappings":"ozBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,aAAT,KAA8B,eAA9B,CACA,MAAOC,CAAAA,GAAP,KAAgB,OAAhB,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CAEA,MAAOC,CAAAA,UAAP,EAAqBC,MAArB,CAA6BC,KAA7B,KAA0C,cAA1C,CAEA,QAASC,CAAAA,OAAT,EAAmB,qBAEcP,KAAK,CAACQ,QAAN,CAAe,IAAf,CAFd,oDAEVC,OAFU,qBAEDC,UAFC,0CAISV,KAAK,CAACQ,QAAN,CAAe,IAAf,CAJT,qDAIVG,KAJU,qBAIHC,QAJG,0CAMeZ,KAAK,CAACQ,QAAN,CAAe,CAC7CK,QAAQ,CAAE,UADmC,CAE7CC,SAAS,CAAE,CAAC,SAFiC,CAG7CC,IAAI,CAAE,GAHuC,CAAf,CANf,qDAMVC,QANU,qBAMAC,WANA,qBAYjBjB,KAAK,CAACkB,SAAN,CAAgB,UAAM,CACpB,GAAMC,CAAAA,OAAO,0FAAG,uMAEWlB,CAAAA,aAAa,EAFxB,2CAEJmB,IAFI,sBAEJA,IAFI,CAGZC,OAAO,CAACC,GAAR,CAAYF,IAAZ,EACAV,UAAU,CAACU,IAAD,CAAV,CAJY,+EAMZC,OAAO,CAACC,GAAR,cANY,oEAAH,kBAAPH,CAAAA,OAAO,0CAAb,CASAA,OAAO,GACR,CAXD,CAWG,EAXH,EAYAE,OAAO,CAACC,GAAR,CAAYb,OAAZ,EAEA,mBACE,wCACE,KAAC,GAAD,IADF,cAEE,aAAK,SAAS,CAAC,aAAf,wBACE,WAAI,SAAS,CAAC,gBAAd,qBADF,cAEE,YAAK,SAAS,CAAC,eAAf,uBACA,MAAC,UAAD,8BACM,oBAAoB,CAAEc,OAAO,CAACC,GAAR,CAAYC,6BADxC,CAEM,MAAM,CAAC,MAFb,CAGM,KAAK,CAAC,MAHZ,CAIM,QAAQ,CAAC,qCAJf,EAKUT,QALV,MAMM,OAAO,CAAE,yBAAMJ,CAAAA,QAAQ,CAAC,IAAD,CAAd,EANf,CAOM,gBAAgB,CAAE,0BAAAI,QAAQ,QAAIC,CAAAA,WAAW,CAACD,QAAD,CAAf,EAPhC,WASOP,OAAO,CACNA,OAAO,CAACiB,GAAR,CAAY,SAAAC,MAAM,qBAChB,KAAC,MAAD,EACE,SAAS,CAAC,aADZ,CAGE,QAAQ,CAAEA,MAAM,CAACd,QAHnB,CAIE,SAAS,CAAEc,MAAM,CAACb,SAJpB,uBAME,aACE,IAAI,CAAC,KADP,CAEE,aAAW,YAFb,CAGE,OAAO,CAAE,yBAAMF,CAAAA,QAAQ,CAACe,MAAD,CAAd,EAHX,0BANF,EAEOA,MAAM,CAACC,GAFd,CADgB,EAAlB,CADM,cAkBN,YAAK,SAAS,CAAC,aAAf,EA3BR,CA+BOjB,KAAK,eACV,MAAC,KAAD,EACE,YAAY,CAAE,IADhB,CAEE,QAAQ,CAAEA,KAAK,CAACE,QAFlB,CAGE,SAAS,CAAEF,KAAK,CAACG,SAHnB,CAIE,WAAW,CAAE,KAJf,wBAME,YAAI,SAAS,CAAC,YAAd,WAA4BH,KAAK,CAACkB,IAAlC,MAA0ClB,KAAK,CAACmB,IAAhD,GANF,cAOE,YAAK,SAAS,CAAC,aAAf,CAA6B,GAAG,CAAC,aAAjC,CAA+C,GAAG,CAAEnB,KAAK,CAACoB,KAA1D,EAPF,GAhCF,IADA,EAFF,GAFF,cAkDE,KAAC,MAAD,IAlDF,GADF,CAsDD,CAED,cAAexB,CAAAA,OAAf","sourcesContent":["import React from 'react'\nimport { getAllCourses } from '../../lib/api'\nimport Nav from './Nav'\nimport Footer from './Footer'\n\nimport ReactMapGL, { Marker, Popup } from 'react-map-gl'\n\nfunction Courses() {\n\n  const [courses, setCourses ] = React.useState(null)\n\n  const [popup, setPopup] = React.useState(null)\n\n  const [viewport, setViewport] = React.useState({\n    latitude: 52.4816546,\n    longitude: -3.1791934,\n    zoom: 5.3\n  })\n\n  React.useEffect(() => {\n    const getData = async () => {\n      try {\n        const { data } = await getAllCourses()\n        console.log(data)\n        setCourses(data)\n      } catch (err) {\n        console.log(err)\n      }\n    }\n    getData()\n  }, [])\n  console.log(courses)\n\n  return (\n    <section>\n      <Nav />\n      <div className='map-content'>\n        <h1 className='courses-header'>Courses</h1>\n        <div className='map-container'>\n        <ReactMapGL\n              mapboxApiAccessToken={process.env.REACT_APP_MAPBOX_ACCESS_TOKEN}\n              height=\"100%\"\n              width=\"100%\"\n              mapStyle='mapbox://styles/mapbox/satellite-v9'\n              {...viewport}\n              onClick={() => setPopup(null)}\n              onViewportChange={viewport => setViewport(viewport)}\n            >\n              {courses ?\n                courses.map(course => (\n                  <Marker\n                    className='map-markers'\n                    key={course._id}\n                    latitude={course.latitude}\n                    longitude={course.longitude}\n                  >\n                    <span\n                      role=\"img\"\n                      aria-label=\"map-marker\"\n                      onClick={() => setPopup(course)}\n                    >\n                    ⛳️\n                    </span>\n                  </Marker>\n                ))\n                :\n                <div className=\"ring-loader\">\n                  {/* <RingLoader color=\"purple\" size={60} /> */}\n                </div>\n              }\n              {popup &&\n          <Popup\n            closeOnClick={true}\n            latitude={popup.latitude}\n            longitude={popup.longitude}\n            closeButton={false}\n          >\n            <h4 className='popup-info'>{popup.name}, {popup.city}</h4>\n            <img className='popup-image' alt='golf-course' src={popup.image}/>\n          </Popup>\n}\n            </ReactMapGL>\n            </div>\n      </div>\n      <Footer />\n    </section>\n  )\n}\n\nexport default Courses"]},"metadata":{},"sourceType":"module"}